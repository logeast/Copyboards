<script setup lang="ts">
import { ref } from "vue";
import { List, ListOptions, ListOption } from "/@/components/@headless/list";
import SearchBar from "/@/components/SearchBar.vue";
import Preview from "/@/components/Preview.vue";

const people = [
  { id: 1, name: "Durward Reynolds", unavailable: false },
  { id: 2, name: "Kenton Towne", unavailable: false },
  { id: 3, name: "Therese Wunsch", unavailable: false },
  { id: 4, name: "Benedict Kessler", unavailable: true },
  { id: 5, name: "Katelyn Rohan", unavailable: false },
];

const selectedPerson = ref(people[0]);
</script>

<template>
  <main>
    <SearchBar></SearchBar>
    <section class="flex h-96 border-b">
      <div class="flex-1 overflow-y-auto">
        <List as="div" v-model="selectedPerson">
          <div class="text-red-500">selected: {{ selectedPerson.name }}</div>
          <ListOptions>
            <ListOption
              v-slot="{ selected }"
              v-for="person in people"
              :key="person.name"
              :value="person"
            >
              <li
                :class="[
                  selected ? 'bg-amber-100 text-amber-900' : 'text-gray-900',
                  'relative cursor-default select-none py-2 pl-10 pr-4',
                ]"
              >
                <span v-if="selected">âœ…</span>
                <span>{{ person.name }}</span>
              </li>
            </ListOption>
          </ListOptions>
        </List>
      </div>
      <div class="flex-none overflow-y-auto">
        <Preview></Preview>
      </div>
    </section>
  </main>
</template>
